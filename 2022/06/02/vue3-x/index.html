<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="å˜Ÿå˜Ÿå™œ"><meta name="copyright" content="å˜Ÿå˜Ÿå™œ"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>vue3.x ç¬”è®°åˆ†äº« | ä¸äºŒå®¶çš„å°ç«™</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/@unocss/runtime/mini.global.js"></script><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"sakura10032.github.io","root":"/","title":"ä¸äºŒå®¶","version":"1.10.3","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"fireworks":{"colors":null},"vendors":{"darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="Vue3 å¿«é€Ÿä¸Šæ‰‹ 1.Vue3 ç®€ä»‹ 2020 å¹´ 9 æœˆ 18 æ—¥ï¼ŒVue.js å‘å¸ƒ 3.0 ç‰ˆæœ¬ï¼Œä»£å·ï¼šOne Pieceï¼ˆæµ·è´¼ç‹ï¼‰ è€—æ—¶ 2 å¹´å¤šã€2600+æ¬¡æäº¤ã€30+ä¸ª RFCã€600+æ¬¡ PRã€99 ä½è´¡çŒ®è€… github ä¸Šçš„ tags åœ°å€ï¼šhttps:&#x2F;&#x2F;github.com&#x2F;vuejs&#x2F;vue-next&#x2F;releases&#x2F;tag&#x2F;v3.0.0  2.Vue3 å¸¦æ¥äº†ä»€ä¹ˆ1">
<meta property="og:type" content="article">
<meta property="og:title" content="vue3.x ç¬”è®°åˆ†äº«">
<meta property="og:url" content="https://sakura10032.github.io/2022/06/02/vue3-x/index.html">
<meta property="og:site_name" content="ä¸äºŒå®¶çš„å°ç«™">
<meta property="og:description" content="Vue3 å¿«é€Ÿä¸Šæ‰‹ 1.Vue3 ç®€ä»‹ 2020 å¹´ 9 æœˆ 18 æ—¥ï¼ŒVue.js å‘å¸ƒ 3.0 ç‰ˆæœ¬ï¼Œä»£å·ï¼šOne Pieceï¼ˆæµ·è´¼ç‹ï¼‰ è€—æ—¶ 2 å¹´å¤šã€2600+æ¬¡æäº¤ã€30+ä¸ª RFCã€600+æ¬¡ PRã€99 ä½è´¡çŒ®è€… github ä¸Šçš„ tags åœ°å€ï¼šhttps:&#x2F;&#x2F;github.com&#x2F;vuejs&#x2F;vue-next&#x2F;releases&#x2F;tag&#x2F;v3.0.0  2.Vue3 å¸¦æ¥äº†ä»€ä¹ˆ1">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://user-images.githubusercontent.com/499550/93624428-53932780-f9ae-11ea-8d16-af949e16a09f.png">
<meta property="og:image" content="https://cn.vitejs.dev/assets/bundler.37740380.png">
<meta property="og:image" content="https://cn.vitejs.dev/assets/esm.3070012d.png">
<meta property="og:image" content="https://cn.vuejs.org/images/lifecycle.png">
<meta property="og:image" content="https://v3.cn.vuejs.org/images/lifecycle.svg">
<meta property="og:image" content="https://v3.cn.vuejs.org/images/components_provide.png">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84e4e2c02424d9a99862ade0a2e4114~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ac7e20d1784887a826f6360768a368~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc0be8211fc54b6c941c036791ba4efe~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cc55165c0e34069a75fe36f8712eb80~tplv-k3u1fbpfcp-watermark.image">
<meta property="article:published_time" content="2022-06-02T05:39:18.000Z">
<meta property="article:modified_time" content="2022-06-02T05:42:07.339Z">
<meta property="article:author" content="å˜Ÿå˜Ÿå™œ">
<meta property="article:tag" content="ç¬”è®°">
<meta property="article:tag" content="å­¦ä¹ ">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/499550/93624428-53932780-f9ae-11ea-8d16-af949e16a09f.png"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="å˜Ÿå˜Ÿå™œ"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="å˜Ÿå˜Ÿå™œ"><span class="site-author-status" title="Looking for dawn.">ğŸŒ‘</span></a><div class="site-author-name"><a href="/about/">å˜Ÿå˜Ÿå™œ</a></div><span class="site-name">ä¸äºŒå®¶çš„å°ç«™</span><sub class="site-subtitle"></sub><div class="site-description"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">6</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">1</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">5</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:clipboard-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><span class="icon iconify" data-icon="ri:rss-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Sakura10032" title="GitHub" target="_blank" style="color:#6e5494"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:wuliuqi10032@163.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue3-%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B"><span class="toc-number">1.</span> <span class="toc-text">Vue3 å¿«é€Ÿä¸Šæ‰‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Vue3-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">1.Vue3 ç®€ä»‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Vue3-%E5%B8%A6%E6%9D%A5%E4%BA%86%E4%BB%80%E4%B9%88"><span class="toc-number">1.2.</span> <span class="toc-text">2.Vue3 å¸¦æ¥äº†ä»€ä¹ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%80%A7%E8%83%BD%E7%9A%84%E6%8F%90%E5%8D%87"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.æ€§èƒ½çš„æå‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%BA%90%E7%A0%81%E7%9A%84%E5%8D%87%E7%BA%A7"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.æºç çš„å‡çº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%8B%A5%E6%8A%B1-TypeScript"><span class="toc-number">1.2.3.</span> <span class="toc-text">3.æ‹¥æŠ± TypeScript</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%96%B0%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">1.2.4.</span> <span class="toc-text">4.æ–°çš„ç‰¹æ€§</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA-Vue3-0-%E5%B7%A5%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">ä¸€ã€åˆ›å»º Vue3.0 å·¥ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8-vue-cli-%E5%88%9B%E5%BB%BA"><span class="toc-number">2.1.</span> <span class="toc-text">1.ä½¿ç”¨ vue-cli åˆ›å»º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8-vite-%E5%88%9B%E5%BB%BA"><span class="toc-number">2.2.</span> <span class="toc-text">2.ä½¿ç”¨ vite åˆ›å»º</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8-Composition-API"><span class="toc-number">3.</span> <span class="toc-text">äºŒã€å¸¸ç”¨ Composition API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%8B%89%E5%BC%80%E5%BA%8F%E5%B9%95%E7%9A%84-setup"><span class="toc-number">3.1.</span> <span class="toc-text">1.æ‹‰å¼€åºå¹•çš„ setup</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-ref-%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.</span> <span class="toc-text">2.ref å‡½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-reactive-%E5%87%BD%E6%95%B0"><span class="toc-number">3.3.</span> <span class="toc-text">3.reactive å‡½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Vue3-0-%E4%B8%AD%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86"><span class="toc-number">3.4.</span> <span class="toc-text">4.Vue3.0 ä¸­çš„å“åº”å¼åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vue2-x-%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-number">3.4.1.</span> <span class="toc-text">vue2.x çš„å“åº”å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue3-0-%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-number">3.4.2.</span> <span class="toc-text">Vue3.0 çš„å“åº”å¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-reactive-%E5%AF%B9%E6%AF%94-ref"><span class="toc-number">3.5.</span> <span class="toc-text">5.reactive å¯¹æ¯” ref</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-setup-%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">3.6.</span> <span class="toc-text">6.setup çš„ä¸¤ä¸ªæ³¨æ„ç‚¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%B8%8E%E7%9B%91%E8%A7%86"><span class="toc-number">3.7.</span> <span class="toc-text">7.è®¡ç®—å±æ€§ä¸ç›‘è§†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-computed-%E5%87%BD%E6%95%B0"><span class="toc-number">3.7.1.</span> <span class="toc-text">1.computed å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-watch-%E5%87%BD%E6%95%B0"><span class="toc-number">3.7.2.</span> <span class="toc-text">2.watch å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-watchEffect-%E5%87%BD%E6%95%B0"><span class="toc-number">3.7.3.</span> <span class="toc-text">3.watchEffect å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">3.8.</span> <span class="toc-text">8.ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E8%87%AA%E5%AE%9A%E4%B9%89-hook-%E5%87%BD%E6%95%B0"><span class="toc-number">3.9.</span> <span class="toc-text">9.è‡ªå®šä¹‰ hook å‡½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-toRef"><span class="toc-number">3.10.</span> <span class="toc-text">10.toRef</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%85%B6%E5%AE%83-Composition-API"><span class="toc-number">4.</span> <span class="toc-text">ä¸‰ã€å…¶å®ƒ Composition API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-shallowReactive-%E4%B8%8E-shallowRef"><span class="toc-number">4.1.</span> <span class="toc-text">1.shallowReactive ä¸ shallowRef</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-readonly-%E4%B8%8E-shallowReadonly"><span class="toc-number">4.2.</span> <span class="toc-text">2.readonly ä¸ shallowReadonly</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-toRaw-%E4%B8%8E-markRaw"><span class="toc-number">4.3.</span> <span class="toc-text">3.toRaw ä¸ markRaw</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-customRef"><span class="toc-number">4.4.</span> <span class="toc-text">4.customRef</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-provide-%E4%B8%8E-inject"><span class="toc-number">4.5.</span> <span class="toc-text">5.provide ä¸ inject</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E5%88%A4%E6%96%AD"><span class="toc-number">4.6.</span> <span class="toc-text">6.å“åº”å¼æ•°æ®çš„åˆ¤æ–­</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Composition-API-%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-number">5.</span> <span class="toc-text">å››ã€Composition API çš„ä¼˜åŠ¿</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Options-API-%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">5.1.</span> <span class="toc-text">1.Options API å­˜åœ¨çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Composition-API-%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-number">5.2.</span> <span class="toc-text">2.Composition API çš„ä¼˜åŠ¿</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%96%B0%E7%9A%84%E7%BB%84%E4%BB%B6"><span class="toc-number">6.</span> <span class="toc-text">äº”ã€æ–°çš„ç»„ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Fragment"><span class="toc-number">6.1.</span> <span class="toc-text">1.Fragment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Teleport"><span class="toc-number">6.2.</span> <span class="toc-text">2.Teleport</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Suspense"><span class="toc-number">6.3.</span> <span class="toc-text">3.Suspense</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E5%85%B6%E4%BB%96"><span class="toc-number">7.</span> <span class="toc-text">å…­ã€å…¶ä»–</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%85%A8%E5%B1%80-API-%E7%9A%84%E8%BD%AC%E7%A7%BB"><span class="toc-number">7.1.</span> <span class="toc-text">1.å…¨å±€ API çš„è½¬ç§»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%85%B6%E4%BB%96%E6%94%B9%E5%8F%98"><span class="toc-number">7.2.</span> <span class="toc-text">2.å…¶ä»–æ”¹å˜</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://sakura10032.github.io/2022/06/02/vue3-x/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="å˜Ÿå˜Ÿå™œ"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="ä¸äºŒå®¶çš„å°ç«™"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">vue3.x ç¬”è®°åˆ†äº«<a class="post-edit-link" href="https://github.com/Sakura10032/sakura10032.github.io/tree/hexo/source/_posts/2022-06-02-vue3-x.md" target="_blank" title="Edit this post" rel="noopener"><span class="icon iconify" data-icon="ri:edit-line"></span></a></h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="Created: 2022-06-02 13:39:18" itemprop="dateCreated datePublished" datetime="2022-06-02T13:39:18+08:00">2022-06-02</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%89%8D%E7%AB%AF/" style="--text-color:#FB7299" itemprop="url" rel="index"><span itemprop="text">å‰ç«¯</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E7%AC%94%E8%AE%B0/" style="--text-color:dimgray"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">ç¬”è®°</span></a><a class="tag-item" href="/tags/%E5%AD%A6%E4%B9%A0/" style="--text-color:saddlebrown"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">å­¦ä¹ </span></a><a class="tag-item" href="/tags/Vue/" style="--text-color:#bfa"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Vue</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="Vue3-å¿«é€Ÿä¸Šæ‰‹"><a href="#Vue3-å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="Vue3 å¿«é€Ÿä¸Šæ‰‹"></a><a href="#vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B">Vue3 å¿«é€Ÿä¸Šæ‰‹</a></h1><p><img src="https://user-images.githubusercontent.com/499550/93624428-53932780-f9ae-11ea-8d16-af949e16a09f.png" alt="img" loading="lazy"></p>
<h2 id="1-Vue3-ç®€ä»‹"><a href="#1-Vue3-ç®€ä»‹" class="headerlink" title="1.Vue3 ç®€ä»‹"></a><a href="#_1vue3%E7%AE%80%E4%BB%8B">1.Vue3 ç®€ä»‹</a></h2><ul>
<li>2020 å¹´ 9 æœˆ 18 æ—¥ï¼ŒVue.js å‘å¸ƒ 3.0 ç‰ˆæœ¬ï¼Œä»£å·ï¼šOne Pieceï¼ˆæµ·è´¼ç‹ï¼‰</li>
<li>è€—æ—¶ 2 å¹´å¤šã€<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-next/graphs/commit-activity">2600+æ¬¡æäº¤</a>ã€<a target="_blank" rel="noopener" href="https://github.com/vuejs/rfcs/tree/master/active-rfcs">30+ä¸ª RFC</a>ã€<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-next/pulls?q=is:pr+is:merged+-author:app/dependabot-preview+">600+æ¬¡ PR</a>ã€<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-next/graphs/contributors">99 ä½è´¡çŒ®è€…</a></li>
<li>github ä¸Šçš„ tags åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-next/releases/tag/v3.0.0">https://github.com/vuejs/vue-next/releases/tag/v3.0.0</a></li>
</ul>
<h2 id="2-Vue3-å¸¦æ¥äº†ä»€ä¹ˆ"><a href="#2-Vue3-å¸¦æ¥äº†ä»€ä¹ˆ" class="headerlink" title="2.Vue3 å¸¦æ¥äº†ä»€ä¹ˆ"></a><a href="#_2vue3%E5%B8%A6%E6%9D%A5%E4%BA%86%E4%BB%80%E4%B9%88">2.Vue3 å¸¦æ¥äº†ä»€ä¹ˆ</a></h2><h3 id="1-æ€§èƒ½çš„æå‡"><a href="#1-æ€§èƒ½çš„æå‡" class="headerlink" title="1.æ€§èƒ½çš„æå‡"></a><a href="#_1%E6%80%A7%E8%83%BD%E7%9A%84%E6%8F%90%E5%8D%87">1.æ€§èƒ½çš„æå‡</a></h3><ul>
<li><p>æ‰“åŒ…å¤§å°å‡å°‘ 41%</p>
</li>
<li><p>åˆæ¬¡æ¸²æŸ“å¿« 55%, æ›´æ–°æ¸²æŸ“å¿« 133%</p>
</li>
<li><p>å†…å­˜å‡å°‘ 54%</p>
<p>â€¦â€¦</p>
</li>
</ul>
<h3 id="2-æºç çš„å‡çº§"><a href="#2-æºç çš„å‡çº§" class="headerlink" title="2.æºç çš„å‡çº§"></a><a href="#_2%E6%BA%90%E7%A0%81%E7%9A%84%E5%8D%87%E7%BA%A7">2.æºç çš„å‡çº§</a></h3><ul>
<li><p>ä½¿ç”¨ Proxy ä»£æ›¿ defineProperty å®ç°å“åº”å¼</p>
</li>
<li><p>é‡å†™è™šæ‹Ÿ DOM çš„å®ç°å’Œ Tree-Shaking</p>
<p>â€¦â€¦</p>
</li>
</ul>
<h3 id="3-æ‹¥æŠ±-TypeScript"><a href="#3-æ‹¥æŠ±-TypeScript" class="headerlink" title="3.æ‹¥æŠ± TypeScript"></a><a href="#_3%E6%8B%A5%E6%8A%B1typescript">3.æ‹¥æŠ± TypeScript</a></h3><ul>
<li>Vue3 å¯ä»¥æ›´å¥½çš„æ”¯æŒ TypeScript</li>
</ul>
<h3 id="4-æ–°çš„ç‰¹æ€§"><a href="#4-æ–°çš„ç‰¹æ€§" class="headerlink" title="4.æ–°çš„ç‰¹æ€§"></a><a href="#_4%E6%96%B0%E7%9A%84%E7%89%B9%E6%80%A7">4.æ–°çš„ç‰¹æ€§</a></h3><ol>
<li>Composition APIï¼ˆç»„åˆ APIï¼‰<ul>
<li>setup é…ç½®</li>
<li>ref ä¸ reactive</li>
<li>watch ä¸ watchEffect</li>
<li>provide ä¸ inject</li>
<li>â€¦â€¦</li>
</ul>
</li>
<li>æ–°çš„å†…ç½®ç»„ä»¶<ul>
<li>Fragment</li>
<li>Teleport</li>
<li>Suspense</li>
</ul>
</li>
<li>å…¶ä»–æ”¹å˜<ul>
<li>æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</li>
<li>data é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</li>
<li>ç§»é™¤ keyCode æ”¯æŒä½œä¸º v-on çš„ä¿®é¥°ç¬¦</li>
<li>â€¦â€¦</li>
</ul>
</li>
</ol>
<h1 id="ä¸€ã€åˆ›å»º-Vue3-0-å·¥ç¨‹"><a href="#ä¸€ã€åˆ›å»º-Vue3-0-å·¥ç¨‹" class="headerlink" title="ä¸€ã€åˆ›å»º Vue3.0 å·¥ç¨‹"></a><a href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BAvue30%E5%B7%A5%E7%A8%8B">ä¸€ã€åˆ›å»º Vue3.0 å·¥ç¨‹</a></h1><h2 id="1-ä½¿ç”¨-vue-cli-åˆ›å»º"><a href="#1-ä½¿ç”¨-vue-cli-åˆ›å»º" class="headerlink" title="1.ä½¿ç”¨ vue-cli åˆ›å»º"></a><a href="#_1%E4%BD%BF%E7%94%A8-vue-cli-%E5%88%9B%E5%BB%BA">1.ä½¿ç”¨ vue-cli åˆ›å»º</a></h2><p>å®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create</a></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment">## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š</span>
vue --version
<span class="token comment">## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli</span>
<span class="token function">npm</span> <span class="token function">install</span> -g @vue/cli
<span class="token comment">## åˆ›å»º</span>
vue create vue_test
<span class="token comment">## å¯åŠ¨</span>
<span class="token builtin class-name">cd</span> vue_test
<span class="token function">npm</span> run serveCopy to clipboardErrorCopied</code></pre>

<h2 id="2-ä½¿ç”¨-vite-åˆ›å»º"><a href="#2-ä½¿ç”¨-vite-åˆ›å»º" class="headerlink" title="2.ä½¿ç”¨ vite åˆ›å»º"></a><a href="#_2%E4%BD%BF%E7%94%A8-vite-%E5%88%9B%E5%BB%BA">2.ä½¿ç”¨ vite åˆ›å»º</a></h2><p>å®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/guide/installation.html#vite">https://v3.cn.vuejs.org/guide/installation.html#vite</a></p>
<p>vite å®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://vitejs.cn/">https://vitejs.cn</a></p>
<ul>
<li>ä»€ä¹ˆæ˜¯ viteï¼Ÿâ€”â€” æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ã€‚</li>
<li>ä¼˜åŠ¿å¦‚ä¸‹ï¼š<ul>
<li>å¼€å‘ç¯å¢ƒä¸­ï¼Œæ— éœ€æ‰“åŒ…æ“ä½œï¼Œå¯å¿«é€Ÿçš„å†·å¯åŠ¨ã€‚</li>
<li>è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆHMRï¼‰ã€‚</li>
<li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆã€‚</li>
</ul>
</li>
<li>ä¼ ç»Ÿæ„å»º ä¸ vite æ„å»ºå¯¹æ¯”å›¾</li>
</ul>
<p><img src="https://cn.vitejs.dev/assets/bundler.37740380.png" alt="img" loading="lazy"><img src="https://cn.vitejs.dev/assets/esm.3070012d.png" alt="img" loading="lazy"></p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment">## åˆ›å»ºå·¥ç¨‹</span>
<span class="token function">npm</span> init vite-app <span class="token operator">&lt;</span>project-name<span class="token operator">></span>
<span class="token comment">## è¿›å…¥å·¥ç¨‹ç›®å½•</span>
<span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>project-name<span class="token operator">></span>
<span class="token comment">## å®‰è£…ä¾èµ–</span>
<span class="token function">npm</span> <span class="token function">install</span>
<span class="token comment">## è¿è¡Œ</span>
<span class="token function">npm</span> run devCopy to clipboardErrorCopied</code></pre>

<h1 id="äºŒã€å¸¸ç”¨-Composition-API"><a href="#äºŒã€å¸¸ç”¨-Composition-API" class="headerlink" title="äºŒã€å¸¸ç”¨ Composition API"></a><a href="#%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8-composition-api">äºŒã€å¸¸ç”¨ Composition API</a></h1><p>å®˜æ–¹æ–‡æ¡£: <a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/guide/composition-api-introduction.html">https://v3.cn.vuejs.org/guide/composition-api-introduction.html</a></p>
<h2 id="1-æ‹‰å¼€åºå¹•çš„-setup"><a href="#1-æ‹‰å¼€åºå¹•çš„-setup" class="headerlink" title="1.æ‹‰å¼€åºå¹•çš„ setup"></a><a href="#_1%E6%8B%89%E5%BC%80%E5%BA%8F%E5%B9%95%E7%9A%84setup">1.æ‹‰å¼€åºå¹•çš„ setup</a></h2><ol>
<li>ç†è§£ï¼šVue3.0 ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼ä¸ºä¸€ä¸ªå‡½æ•°ã€‚</li>
<li>setup æ˜¯æ‰€æœ‰**Composition APIï¼ˆç»„åˆ APIï¼‰***â€œ è¡¨æ¼”çš„èˆå° â€*ã€‚</li>
<li>ç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ç­‰ç­‰ï¼Œå‡è¦é…ç½®åœ¨ setup ä¸­ã€‚</li>
<li>setup å‡½æ•°çš„ä¸¤ç§è¿”å›å€¼ï¼š<ol>
<li>è‹¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å¯¹è±¡ä¸­çš„å±æ€§ã€æ–¹æ³•, åœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ï¼ˆé‡ç‚¹å…³æ³¨ï¼ï¼‰</li>
<li>è‹¥è¿”å›ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ã€‚ï¼ˆäº†è§£ï¼‰</li>
</ol>
</li>
<li>æ³¨æ„ç‚¹ï¼š<ol>
<li>å°½é‡ä¸è¦ä¸ Vue2.x é…ç½®æ··ç”¨<ul>
<li>Vue2.x é…ç½®ï¼ˆdataã€methosã€computedâ€¦ï¼‰ä¸­<strong>å¯ä»¥è®¿é—®åˆ°</strong>setup ä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚</li>
<li>ä½†åœ¨ setup ä¸­<strong>ä¸èƒ½è®¿é—®åˆ°</strong>Vue2.x é…ç½®ï¼ˆdataã€methosã€computedâ€¦ï¼‰ã€‚</li>
<li>å¦‚æœæœ‰é‡å, setup ä¼˜å…ˆã€‚</li>
</ul>
</li>
<li>setup ä¸èƒ½æ˜¯ä¸€ä¸ª async å‡½æ•°ï¼Œå› ä¸ºè¿”å›å€¼ä¸å†æ˜¯ return çš„å¯¹è±¡, è€Œæ˜¯ promise, æ¨¡æ¿çœ‹ä¸åˆ° return å¯¹è±¡ä¸­çš„å±æ€§ã€‚ï¼ˆåæœŸä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ª Promise å®ä¾‹ï¼Œä½†éœ€è¦ Suspense å’Œå¼‚æ­¥ç»„ä»¶çš„é…åˆï¼‰</li>
</ol>
</li>
</ol>
<h2 id="2-ref-å‡½æ•°"><a href="#2-ref-å‡½æ•°" class="headerlink" title="2.ref å‡½æ•°"></a><a href="#_2ref%E5%87%BD%E6%95%B0">2.ref å‡½æ•°</a></h2><ul>
<li><p>ä½œç”¨: å®šä¹‰ä¸€ä¸ªå“åº”å¼çš„æ•°æ®</p>
</li>
<li><p>è¯­æ³•:</p>
<pre class="language-none"><code class="language-none">const xxx &#x3D; ref(initValue)</code></pre>

<ul>
<li>åˆ›å»ºä¸€ä¸ªåŒ…å«å“åº”å¼æ•°æ®çš„<strong>å¼•ç”¨å¯¹è±¡ï¼ˆreference å¯¹è±¡ï¼Œç®€ç§° ref å¯¹è±¡ï¼‰</strong>ã€‚</li>
<li>JS ä¸­æ“ä½œæ•°æ®ï¼š <code>xxx.value</code></li>
<li>æ¨¡æ¿ä¸­è¯»å–æ•°æ®: ä¸éœ€è¦.valueï¼Œç›´æ¥ï¼š<code>&lt;div&gt;&#123;&#123;xxx&#125;&#125;&lt;/div&gt;</code></li>
</ul>
</li>
<li><p>å¤‡æ³¨ï¼š</p>
<ul>
<li>æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼šåŸºæœ¬ç±»å‹ã€ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ç±»å‹ã€‚</li>
<li>åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼šå“åº”å¼ä¾ç„¶æ˜¯é <code>Object.defineProperty()</code>çš„<code>get</code>ä¸<code>set</code>å®Œæˆçš„ã€‚</li>
<li>å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼šå†…éƒ¨ <em>â€œ æ±‚åŠ© â€</em> äº† Vue3.0 ä¸­çš„ä¸€ä¸ªæ–°å‡½æ•°â€”â€” <code>reactive</code>å‡½æ•°ã€‚</li>
</ul>
</li>
</ul>
<h2 id="3-reactive-å‡½æ•°"><a href="#3-reactive-å‡½æ•°" class="headerlink" title="3.reactive å‡½æ•°"></a><a href="#_3reactive%E5%87%BD%E6%95%B0">3.reactive å‡½æ•°</a></h2><ul>
<li>ä½œç”¨: å®šä¹‰ä¸€ä¸ª<strong>å¯¹è±¡ç±»å‹</strong>çš„å“åº”å¼æ•°æ®ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨<code>ref</code>å‡½æ•°ï¼‰</li>
<li>è¯­æ³•ï¼š<code>const ä»£ç†å¯¹è±¡= reactive(æºå¯¹è±¡)</code>æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ï¼Œè¿”å›ä¸€ä¸ª<strong>ä»£ç†å¯¹è±¡ï¼ˆProxy çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§° proxy å¯¹è±¡ï¼‰</strong></li>
<li>reactive å®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡çš„â€ã€‚</li>
<li>å†…éƒ¨åŸºäº ES6 çš„ Proxy å®ç°ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®è¿›è¡Œæ“ä½œã€‚</li>
</ul>
<h2 id="4-Vue3-0-ä¸­çš„å“åº”å¼åŸç†"><a href="#4-Vue3-0-ä¸­çš„å“åº”å¼åŸç†" class="headerlink" title="4.Vue3.0 ä¸­çš„å“åº”å¼åŸç†"></a><a href="#_4vue30%E4%B8%AD%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86">4.Vue3.0 ä¸­çš„å“åº”å¼åŸç†</a></h2><h3 id="vue2-x-çš„å“åº”å¼"><a href="#vue2-x-çš„å“åº”å¼" class="headerlink" title="vue2.x çš„å“åº”å¼"></a><a href="#vue2x%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F">vue2.x çš„å“åº”å¼</a></h3><ul>
<li><p>å®ç°åŸç†ï¼š</p>
<ul>
<li><p>å¯¹è±¡ç±»å‹ï¼šé€šè¿‡<code>Object.defineProperty()</code>å¯¹å±æ€§çš„è¯»å–ã€ä¿®æ”¹è¿›è¡Œæ‹¦æˆªï¼ˆæ•°æ®åŠ«æŒï¼‰ã€‚</p>
</li>
<li><p>æ•°ç»„ç±»å‹ï¼šé€šè¿‡é‡å†™æ›´æ–°æ•°ç»„çš„ä¸€ç³»åˆ—æ–¹æ³•æ¥å®ç°æ‹¦æˆªã€‚ï¼ˆå¯¹æ•°ç»„çš„å˜æ›´æ–¹æ³•è¿›è¡Œäº†åŒ…è£¹ï¼‰ã€‚</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript">Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'count'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">set</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>Copy to clipboardErrorCopied</code></pre></li>
</ul>
</li>
<li><p>å­˜åœ¨é—®é¢˜ï¼š</p>
<ul>
<li>æ–°å¢å±æ€§ã€åˆ é™¤å±æ€§, ç•Œé¢ä¸ä¼šæ›´æ–°ã€‚</li>
<li>ç›´æ¥é€šè¿‡ä¸‹æ ‡ä¿®æ”¹æ•°ç»„, ç•Œé¢ä¸ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</li>
</ul>
</li>
</ul>
<h3 id="Vue3-0-çš„å“åº”å¼"><a href="#Vue3-0-çš„å“åº”å¼" class="headerlink" title="Vue3.0 çš„å“åº”å¼"></a><a href="#vue30%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F">Vue3.0 çš„å“åº”å¼</a></h3><ul>
<li><p>å®ç°åŸç†:</p>
<ul>
<li><p>é€šè¿‡ Proxyï¼ˆä»£ç†ï¼‰: æ‹¦æˆªå¯¹è±¡ä¸­ä»»æ„å±æ€§çš„å˜åŒ–, åŒ…æ‹¬ï¼šå±æ€§å€¼çš„è¯»å†™ã€å±æ€§çš„æ·»åŠ ã€å±æ€§çš„åˆ é™¤ç­‰ã€‚</p>
</li>
<li><p>é€šè¿‡ Reflectï¼ˆåå°„ï¼‰: å¯¹æºå¯¹è±¡çš„å±æ€§è¿›è¡Œæ“ä½œã€‚</p>
</li>
<li><p>MDN æ–‡æ¡£ä¸­æè¿°çš„ Proxy ä¸ Reflectï¼š</p>
<ul>
<li><p>Proxyï¼š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy</a></p>
</li>
<li><p>Reflectï¼š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect</a></p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// æ‹¦æˆªè¯»å–å±æ€§å€¼</span>
    <span class="token function">get</span> <span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// æ‹¦æˆªè®¾ç½®å±æ€§å€¼æˆ–æ·»åŠ æ–°å±æ€§</span>
    <span class="token function">set</span> <span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// æ‹¦æˆªåˆ é™¤å±æ€§</span>
    <span class="token function">deleteProperty</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

proxy<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'tom'</span>   Copy to clipboardErrorCopied</code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="5-reactive-å¯¹æ¯”-ref"><a href="#5-reactive-å¯¹æ¯”-ref" class="headerlink" title="5.reactive å¯¹æ¯” ref"></a><a href="#_5reactive%E5%AF%B9%E6%AF%94ref">5.reactive å¯¹æ¯” ref</a></h2><ul>
<li>ä»å®šä¹‰æ•°æ®è§’åº¦å¯¹æ¯”ï¼š<ul>
<li>ref ç”¨æ¥å®šä¹‰ï¼š<strong>åŸºæœ¬ç±»å‹æ•°æ®</strong>ã€‚</li>
<li>reactive ç”¨æ¥å®šä¹‰ï¼š<strong>å¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ç±»å‹æ•°æ®</strong>ã€‚</li>
<li>å¤‡æ³¨ï¼šref ä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰<strong>å¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ç±»å‹æ•°æ®</strong>, å®ƒå†…éƒ¨ä¼šè‡ªåŠ¨é€šè¿‡<code>reactive</code>è½¬ä¸º<strong>ä»£ç†å¯¹è±¡</strong>ã€‚</li>
</ul>
</li>
<li>ä»åŸç†è§’åº¦å¯¹æ¯”ï¼š<ul>
<li>ref é€šè¿‡<code>Object.defineProperty()</code>çš„<code>get</code>ä¸<code>set</code>æ¥å®ç°å“åº”å¼ï¼ˆæ•°æ®åŠ«æŒï¼‰ã€‚</li>
<li>reactive é€šè¿‡ä½¿ç”¨<strong>Proxy</strong>æ¥å®ç°å“åº”å¼ï¼ˆæ•°æ®åŠ«æŒï¼‰, å¹¶é€šè¿‡<strong>Reflect</strong>æ“ä½œ<strong>æºå¯¹è±¡</strong>å†…éƒ¨çš„æ•°æ®ã€‚</li>
</ul>
</li>
<li>ä»ä½¿ç”¨è§’åº¦å¯¹æ¯”ï¼š<ul>
<li>ref å®šä¹‰çš„æ•°æ®ï¼šæ“ä½œæ•°æ®<strong>éœ€è¦</strong><code>.value</code>ï¼Œè¯»å–æ•°æ®æ—¶æ¨¡æ¿ä¸­ç›´æ¥è¯»å–<strong>ä¸éœ€è¦</strong><code>.value</code>ã€‚</li>
<li>reactive å®šä¹‰çš„æ•°æ®ï¼šæ“ä½œæ•°æ®ä¸è¯»å–æ•°æ®ï¼š<strong>å‡ä¸éœ€è¦</strong><code>.value</code>ã€‚</li>
</ul>
</li>
</ul>
<h2 id="6-setup-çš„ä¸¤ä¸ªæ³¨æ„ç‚¹"><a href="#6-setup-çš„ä¸¤ä¸ªæ³¨æ„ç‚¹" class="headerlink" title="6.setup çš„ä¸¤ä¸ªæ³¨æ„ç‚¹"></a><a href="#_6setup%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%B3%A8%E6%84%8F%E7%82%B9">6.setup çš„ä¸¤ä¸ªæ³¨æ„ç‚¹</a></h2><ul>
<li>setup æ‰§è¡Œçš„æ—¶æœº<ul>
<li>åœ¨ beforeCreate ä¹‹å‰æ‰§è¡Œä¸€æ¬¡ï¼Œthis æ˜¯ undefinedã€‚</li>
</ul>
</li>
<li>setup çš„å‚æ•°<ul>
<li>propsï¼šå€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä¸”ç»„ä»¶å†…éƒ¨å£°æ˜æ¥æ”¶äº†çš„å±æ€§ã€‚</li>
<li>contextï¼šä¸Šä¸‹æ–‡å¯¹è±¡<ul>
<li>attrs: å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä½†æ²¡æœ‰åœ¨ props é…ç½®ä¸­å£°æ˜çš„å±æ€§, ç›¸å½“äº <code>this.$attrs</code>ã€‚</li>
<li>slots: æ”¶åˆ°çš„æ’æ§½å†…å®¹, ç›¸å½“äº <code>this.$slots</code>ã€‚</li>
<li>emit: åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°, ç›¸å½“äº <code>this.$emit</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="7-è®¡ç®—å±æ€§ä¸ç›‘è§†"><a href="#7-è®¡ç®—å±æ€§ä¸ç›‘è§†" class="headerlink" title="7.è®¡ç®—å±æ€§ä¸ç›‘è§†"></a><a href="#_7%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%B8%8E%E7%9B%91%E8%A7%86">7.è®¡ç®—å±æ€§ä¸ç›‘è§†</a></h2><h3 id="1-computed-å‡½æ•°"><a href="#1-computed-å‡½æ•°" class="headerlink" title="1.computed å‡½æ•°"></a><a href="#_1computed%E5%87%BD%E6%95%B0">1.computed å‡½æ•°</a></h3><ul>
<li><p>ä¸ Vue2.x ä¸­ computed é…ç½®åŠŸèƒ½ä¸€è‡´</p>
</li>
<li><p>å†™æ³•</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>computed<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token operator">...</span>
    <span class="token comment">//è®¡ç®—å±æ€§â€”â€”ç®€å†™</span>
    <span class="token keyword">let</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>lastName
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token comment">//è®¡ç®—å±æ€§â€”â€”å®Œæ•´</span>
    <span class="token keyword">let</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>lastName
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">const</span> nameArr <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span>
            person<span class="token punctuation">.</span>firstName <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            person<span class="token punctuation">.</span>lastName <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>Copy to clipboardErrorCopied</code></pre></li>
</ul>
<h3 id="2-watch-å‡½æ•°"><a href="#2-watch-å‡½æ•°" class="headerlink" title="2.watch å‡½æ•°"></a><a href="#_2watch%E5%87%BD%E6%95%B0">2.watch å‡½æ•°</a></h3><ul>
<li><p>ä¸ Vue2.x ä¸­ watch é…ç½®åŠŸèƒ½ä¸€è‡´</p>
</li>
<li><p>ä¸¤ä¸ªå°â€œå‘â€ï¼š</p>
<ul>
<li>ç›‘è§† reactive å®šä¹‰çš„å“åº”å¼æ•°æ®æ—¶ï¼šoldValue æ— æ³•æ­£ç¡®è·å–ã€å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ç›‘è§†ï¼ˆdeep é…ç½®å¤±æ•ˆï¼‰ã€‚</li>
<li>ç›‘è§† reactive å®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­æŸä¸ªå±æ€§æ—¶ï¼šdeep é…ç½®æœ‰æ•ˆã€‚</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//æƒ…å†µä¸€ï¼šç›‘è§†refå®šä¹‰çš„å“åº”å¼æ•°æ®</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  sum<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'sumå˜åŒ–äº†'</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span>

<span class="token comment">//æƒ…å†µäºŒï¼šç›‘è§†å¤šä¸ªrefå®šä¹‰çš„å“åº”å¼æ•°æ®</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>sum<span class="token punctuation">,</span> msg<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'sumæˆ–msgå˜åŒ–äº†'</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">/* æƒ…å†µä¸‰ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®
            è‹¥watchç›‘è§†çš„æ˜¯reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œåˆ™æ— æ³•æ­£ç¡®è·å¾—oldValueï¼ï¼
            è‹¥watchç›‘è§†çš„æ˜¯reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œåˆ™å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ç›‘è§† 
*/</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  person<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'personå˜åŒ–äº†'</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span> <span class="token comment">//æ­¤å¤„çš„deepé…ç½®ä¸å†å¥æ•ˆ</span>

<span class="token comment">//æƒ…å†µå››ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸä¸ªå±æ€§</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> person<span class="token punctuation">.</span>job<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'personçš„jobå˜åŒ–äº†'</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span>

<span class="token comment">//æƒ…å†µäº”ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸäº›å±æ€§</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> person<span class="token punctuation">.</span>job<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> person<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'personçš„jobå˜åŒ–äº†'</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span>

<span class="token comment">//ç‰¹æ®Šæƒ…å†µ</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> person<span class="token punctuation">.</span>job<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'personçš„jobå˜åŒ–äº†'</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span> <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span> <span class="token comment">//æ­¤å¤„ç”±äºç›‘è§†çš„æ˜¯reactiveç´ å®šä¹‰çš„å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œæ‰€ä»¥deepé…ç½®æœ‰æ•ˆCopy to clipboardErrorCopied</span></code></pre></li>
</ul>
<h3 id="3-watchEffect-å‡½æ•°"><a href="#3-watchEffect-å‡½æ•°" class="headerlink" title="3.watchEffect å‡½æ•°"></a><a href="#_3watcheffect%E5%87%BD%E6%95%B0">3.watchEffect å‡½æ•°</a></h3><ul>
<li><p>watch çš„å¥—è·¯æ˜¯ï¼šæ—¢è¦æŒ‡æ˜ç›‘è§†çš„å±æ€§ï¼Œä¹Ÿè¦æŒ‡æ˜ç›‘è§†çš„å›è°ƒã€‚</p>
</li>
<li><p>watchEffect çš„å¥—è·¯æ˜¯ï¼šä¸ç”¨æŒ‡æ˜ç›‘è§†å“ªä¸ªå±æ€§ï¼Œç›‘è§†çš„å›è°ƒä¸­ç”¨åˆ°å“ªä¸ªå±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªä¸ªå±æ€§ã€‚</p>
</li>
<li><p>watchEffect æœ‰ç‚¹åƒ computedï¼š</p>
<ul>
<li>ä½† computed æ³¨é‡çš„è®¡ç®—å‡ºæ¥çš„å€¼ï¼ˆå›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼‰ï¼Œæ‰€ä»¥å¿…é¡»è¦å†™è¿”å›å€¼ã€‚</li>
<li>è€Œ watchEffect æ›´æ³¨é‡çš„æ˜¯è¿‡ç¨‹ï¼ˆå›è°ƒå‡½æ•°çš„å‡½æ•°ä½“ï¼‰ï¼Œæ‰€ä»¥ä¸ç”¨å†™è¿”å›å€¼ã€‚</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//watchEffectæ‰€æŒ‡å®šçš„å›è°ƒä¸­ç”¨åˆ°çš„æ•°æ®åªè¦å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥é‡æ–°æ‰§è¡Œå›è°ƒã€‚</span>
<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> x1 <span class="token operator">=</span> sum<span class="token punctuation">.</span>value
    <span class="token keyword">const</span> x2 <span class="token operator">=</span> person<span class="token punctuation">.</span>age
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'watchEffecté…ç½®çš„å›è°ƒæ‰§è¡Œäº†'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>Copy to clipboardErrorCopied</code></pre></li>
</ul>
<h2 id="8-ç”Ÿå‘½å‘¨æœŸ"><a href="#8-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="8.ç”Ÿå‘½å‘¨æœŸ"></a><a href="#_8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">8.ç”Ÿå‘½å‘¨æœŸ</a></h2><p><strong>vue2.x çš„ç”Ÿå‘½å‘¨æœŸ</strong><img src="https://cn.vuejs.org/images/lifecycle.png" alt="lifecycle_2" loading="lazy"></p>
<p><strong>vue3.0 çš„ç”Ÿå‘½å‘¨æœŸ</strong><img src="https://v3.cn.vuejs.org/images/lifecycle.svg" alt="lifecycle_2" loading="lazy"></p>
<p>1</p>
<ul>
<li>Vue3.0 ä¸­å¯ä»¥ç»§ç»­ä½¿ç”¨ Vue2.x ä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä½†æœ‰æœ‰ä¸¤ä¸ªè¢«æ›´åï¼š<ul>
<li><code>beforeDestroy</code>æ”¹åä¸º <code>beforeUnmount</code></li>
<li><code>destroyed</code>æ”¹åä¸º <code>unmounted</code></li>
</ul>
</li>
<li>Vue3.0 ä¹Ÿæä¾›äº† Composition API å½¢å¼çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¸ Vue2.x ä¸­é’©å­å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š<ul>
<li><code>beforeCreate</code>&#x3D;&#x3D;&#x3D;&gt;<code>setup()</code></li>
<li><code>created</code>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>setup()</code></li>
<li><code>beforeMount</code> &#x3D;&#x3D;&#x3D;&gt;<code>onBeforeMount</code></li>
<li><code>mounted</code>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onMounted</code></li>
<li><code>beforeUpdate</code>&#x3D;&#x3D;&#x3D;&gt;<code>onBeforeUpdate</code></li>
<li><code>updated</code> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onUpdated</code></li>
<li><code>beforeUnmount</code> &#x3D;&#x3D;&gt;<code>onBeforeUnmount</code></li>
<li><code>unmounted</code> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onUnmounted</code></li>
</ul>
</li>
</ul>
<h2 id="9-è‡ªå®šä¹‰-hook-å‡½æ•°"><a href="#9-è‡ªå®šä¹‰-hook-å‡½æ•°" class="headerlink" title="9.è‡ªå®šä¹‰ hook å‡½æ•°"></a><a href="#_9%E8%87%AA%E5%AE%9A%E4%B9%89hook%E5%87%BD%E6%95%B0">9.è‡ªå®šä¹‰ hook å‡½æ•°</a></h2><ul>
<li>ä»€ä¹ˆæ˜¯ hookï¼Ÿâ€”â€” æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠ setup å‡½æ•°ä¸­ä½¿ç”¨çš„ Composition API è¿›è¡Œäº†å°è£…ã€‚</li>
<li>ç±»ä¼¼äº vue2.x ä¸­çš„ mixinã€‚</li>
<li>è‡ªå®šä¹‰ hook çš„ä¼˜åŠ¿: å¤ç”¨ä»£ç , è®© setup ä¸­çš„é€»è¾‘æ›´æ¸…æ¥šæ˜“æ‡‚ã€‚</li>
</ul>
<h2 id="10-toRef"><a href="#10-toRef" class="headerlink" title="10.toRef"></a><a href="#_10toref">10.toRef</a></h2><ul>
<li><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ª ref å¯¹è±¡ï¼Œå…¶ value å€¼æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ã€‚</p>
</li>
<li><p>è¯­æ³•ï¼š<code>const name = toRef(person,&#39;name&#39;)</code></p>
</li>
<li><p>åº”ç”¨: è¦å°†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§å•ç‹¬æä¾›ç»™å¤–éƒ¨ä½¿ç”¨æ—¶ã€‚</p>
</li>
<li><p>æ‰©å±•ï¼š<code>toRefs</code> ä¸<code>toRef</code>åŠŸèƒ½ä¸€è‡´ï¼Œä½†å¯ä»¥æ‰¹é‡åˆ›å»ºå¤šä¸ª ref å¯¹è±¡ï¼Œè¯­æ³•ï¼š<code>toRefs(person)</code></p>
</li>
</ul>
<h1 id="ä¸‰ã€å…¶å®ƒ-Composition-API"><a href="#ä¸‰ã€å…¶å®ƒ-Composition-API" class="headerlink" title="ä¸‰ã€å…¶å®ƒ Composition API"></a><a href="#%E4%B8%89%E3%80%81%E5%85%B6%E5%AE%83-composition-api">ä¸‰ã€å…¶å®ƒ Composition API</a></h1><h2 id="1-shallowReactive-ä¸-shallowRef"><a href="#1-shallowReactive-ä¸-shallowRef" class="headerlink" title="1.shallowReactive ä¸ shallowRef"></a><a href="#_1shallowreactive-%E4%B8%8E-shallowref">1.shallowReactive ä¸ shallowRef</a></h2><ul>
<li>shallowReactiveï¼šåªå¤„ç†å¯¹è±¡æœ€å¤–å±‚å±æ€§çš„å“åº”å¼ï¼ˆæµ…å“åº”å¼ï¼‰ã€‚</li>
<li>shallowRefï¼šåªå¤„ç†åŸºæœ¬æ•°æ®ç±»å‹çš„å“åº”å¼, ä¸è¿›è¡Œå¯¹è±¡çš„å“åº”å¼å¤„ç†ã€‚</li>
<li>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨?<ul>
<li>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®ï¼Œç»“æ„æ¯”è¾ƒæ·±, ä½†å˜åŒ–æ—¶åªæ˜¯å¤–å±‚å±æ€§å˜åŒ– &#x3D;&#x3D;&#x3D;&gt; shallowReactiveã€‚</li>
<li>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®ï¼Œåç»­åŠŸèƒ½ä¸ä¼šä¿®æ”¹è¯¥å¯¹è±¡ä¸­çš„å±æ€§ï¼Œè€Œæ˜¯ç”Ÿæ–°çš„å¯¹è±¡æ¥æ›¿æ¢ &#x3D;&#x3D;&#x3D;&gt; shallowRefã€‚</li>
</ul>
</li>
</ul>
<h2 id="2-readonly-ä¸-shallowReadonly"><a href="#2-readonly-ä¸-shallowReadonly" class="headerlink" title="2.readonly ä¸ shallowReadonly"></a><a href="#_2readonly-%E4%B8%8E-shallowreadonly">2.readonly ä¸ shallowReadonly</a></h2><ul>
<li>readonly: è®©ä¸€ä¸ªå“åº”å¼æ•°æ®å˜ä¸ºåªè¯»çš„ï¼ˆæ·±åªè¯»ï¼‰ã€‚</li>
<li>shallowReadonlyï¼šè®©ä¸€ä¸ªå“åº”å¼æ•°æ®å˜ä¸ºåªè¯»çš„ï¼ˆæµ…åªè¯»ï¼‰ã€‚</li>
<li>åº”ç”¨åœºæ™¯: ä¸å¸Œæœ›æ•°æ®è¢«ä¿®æ”¹æ—¶ã€‚</li>
</ul>
<h2 id="3-toRaw-ä¸-markRaw"><a href="#3-toRaw-ä¸-markRaw" class="headerlink" title="3.toRaw ä¸ markRaw"></a><a href="#_3toraw-%E4%B8%8E-markraw">3.toRaw ä¸ markRaw</a></h2><ul>
<li>toRawï¼š<ul>
<li>ä½œç”¨ï¼šå°†ä¸€ä¸ªç”±<code>reactive</code>ç”Ÿæˆçš„<strong>å“åº”å¼å¯¹è±¡</strong>è½¬ä¸º<strong>æ™®é€šå¯¹è±¡</strong>ã€‚</li>
<li>ä½¿ç”¨åœºæ™¯ï¼šç”¨äºè¯»å–å“åº”å¼å¯¹è±¡å¯¹åº”çš„æ™®é€šå¯¹è±¡ï¼Œå¯¹è¿™ä¸ªæ™®é€šå¯¹è±¡çš„æ‰€æœ‰æ“ä½œï¼Œä¸ä¼šå¼•èµ·é¡µé¢æ›´æ–°ã€‚</li>
</ul>
</li>
<li>markRawï¼š<ul>
<li>ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶æ°¸è¿œä¸ä¼šå†æˆä¸ºå“åº”å¼å¯¹è±¡ã€‚</li>
<li>åº”ç”¨åœºæ™¯:<ol>
<li>æœ‰äº›å€¼ä¸åº”è¢«è®¾ç½®ä¸ºå“åº”å¼çš„ï¼Œä¾‹å¦‚å¤æ‚çš„ç¬¬ä¸‰æ–¹ç±»åº“ç­‰ã€‚</li>
<li>å½“æ¸²æŸ“å…·æœ‰ä¸å¯å˜æ•°æ®æºçš„å¤§åˆ—è¡¨æ—¶ï¼Œè·³è¿‡å“åº”å¼è½¬æ¢å¯ä»¥æé«˜æ€§èƒ½ã€‚</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="4-customRef"><a href="#4-customRef" class="headerlink" title="4.customRef"></a><a href="#_4customref">4.customRef</a></h2><ul>
<li><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œæ˜¾å¼æ§åˆ¶ã€‚</p>
</li>
<li><p>å®ç°é˜²æŠ–æ•ˆæœï¼š</p>
<pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;keyword&quot; &#x2F;&gt;
  &lt;h3&gt;&#123;&#123; keyword &#125;&#125;&lt;&#x2F;h3&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; ref, customRef &#125; from &#39;vue&#39;
export default &#123;
  name: &#39;Demo&#39;,
  setup() &#123;
    &#x2F;&#x2F; let keyword &#x3D; ref(&#39;hello&#39;) &#x2F;&#x2F;ä½¿ç”¨Vueå‡†å¤‡å¥½çš„å†…ç½®ref
    &#x2F;&#x2F;è‡ªå®šä¹‰ä¸€ä¸ªmyRef
    function myRef(value, delay) &#123;
      let timer
      &#x2F;&#x2F;é€šè¿‡customRefå»å®ç°è‡ªå®šä¹‰
      return customRef((track, trigger) &#x3D;&gt; &#123;
        return &#123;
          get() &#123;
            track() &#x2F;&#x2F;å‘Šè¯‰Vueè¿™ä¸ªvalueå€¼æ˜¯éœ€è¦è¢«â€œè¿½è¸ªâ€çš„
            return value
          &#125;,
          set(newValue) &#123;
            clearTimeout(timer)
            timer &#x3D; setTimeout(() &#x3D;&gt; &#123;
              value &#x3D; newValue
              trigger() &#x2F;&#x2F;å‘Šè¯‰Vueå»æ›´æ–°ç•Œé¢
            &#125;, delay)
          &#125;,
        &#125;
      &#125;)
    &#125;
    let keyword &#x3D; myRef(&#39;hello&#39;, 500) &#x2F;&#x2F;ä½¿ç”¨ç¨‹åºå‘˜è‡ªå®šä¹‰çš„ref
    return &#123;
      keyword,
    &#125;
  &#125;,
&#125;
&lt;&#x2F;script&gt;
Copy to clipboardErrorCopied</code></pre></li>
</ul>
<h2 id="5-provide-ä¸-inject"><a href="#5-provide-ä¸-inject" class="headerlink" title="5.provide ä¸ inject"></a><a href="#_5provide-%E4%B8%8E-inject">5.provide ä¸ inject</a></h2><p><img src="https://v3.cn.vuejs.org/images/components_provide.png" alt="img" loading="lazy"></p>
<ul>
<li><p>ä½œç”¨ï¼šå®ç°<strong>ç¥–ä¸åä»£ç»„ä»¶é—´</strong>é€šä¿¡</p>
</li>
<li><p>å¥—è·¯ï¼šçˆ¶ç»„ä»¶æœ‰ä¸€ä¸ª <code>provide</code> é€‰é¡¹æ¥æä¾›æ•°æ®ï¼Œåä»£ç»„ä»¶æœ‰ä¸€ä¸ª <code>inject</code> é€‰é¡¹æ¥å¼€å§‹ä½¿ç”¨è¿™äº›æ•°æ®</p>
</li>
<li><p>å…·ä½“å†™æ³•ï¼š</p>
<ol>
<li><p>ç¥–ç»„ä»¶ä¸­ï¼š</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token operator">...</span><span class="token operator">...</span>
    <span class="token keyword">let</span> car <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'å¥”é©°'</span><span class="token punctuation">,</span><span class="token literal-property property">price</span><span class="token operator">:</span><span class="token string">'40ä¸‡'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">,</span>car<span class="token punctuation">)</span>
    <span class="token operator">...</span><span class="token operator">...</span>
<span class="token punctuation">&#125;</span>Copy to clipboardErrorCopied</code></pre>
</li>
<li><p>åä»£ç»„ä»¶ä¸­ï¼š</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token operator">...</span><span class="token operator">...</span>
    <span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>car<span class="token punctuation">&#125;</span>
    <span class="token operator">...</span><span class="token operator">...</span>
<span class="token punctuation">&#125;</span>Copy to clipboardErrorCopied</code></pre></li>
</ol>
</li>
</ul>
<h2 id="6-å“åº”å¼æ•°æ®çš„åˆ¤æ–­"><a href="#6-å“åº”å¼æ•°æ®çš„åˆ¤æ–­" class="headerlink" title="6.å“åº”å¼æ•°æ®çš„åˆ¤æ–­"></a><a href="#_6%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E5%88%A4%E6%96%AD">6.å“åº”å¼æ•°æ®çš„åˆ¤æ–­</a></h2><ul>
<li>isRef: æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºä¸€ä¸ª ref å¯¹è±¡</li>
<li>isReactive: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>reactive</code> åˆ›å»ºçš„å“åº”å¼ä»£ç†</li>
<li>isReadonly: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>readonly</code> åˆ›å»ºçš„åªè¯»ä»£ç†</li>
<li>isProxy: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>reactive</code> æˆ–è€… <code>readonly</code> æ–¹æ³•åˆ›å»ºçš„ä»£ç†</li>
</ul>
<h1 id="å››ã€Composition-API-çš„ä¼˜åŠ¿"><a href="#å››ã€Composition-API-çš„ä¼˜åŠ¿" class="headerlink" title="å››ã€Composition API çš„ä¼˜åŠ¿"></a><a href="#%E5%9B%9B%E3%80%81composition-api-%E7%9A%84%E4%BC%98%E5%8A%BF">å››ã€Composition API çš„ä¼˜åŠ¿</a></h1><h2 id="1-Options-API-å­˜åœ¨çš„é—®é¢˜"><a href="#1-Options-API-å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="1.Options API å­˜åœ¨çš„é—®é¢˜"></a><a href="#_1options-api-%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98">1.Options API å­˜åœ¨çš„é—®é¢˜</a></h2><p>ä½¿ç”¨ä¼ ç»Ÿ OptionsAPI ä¸­ï¼Œæ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«åœ¨ dataï¼Œmethodsï¼Œcomputed é‡Œä¿®æ”¹ ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84e4e2c02424d9a99862ade0a2e4114~tplv-k3u1fbpfcp-watermark.image" alt="img" loading="lazy"></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ac7e20d1784887a826f6360768a368~tplv-k3u1fbpfcp-watermark.image" alt="img" loading="lazy"></p>
<h2 id="2-Composition-API-çš„ä¼˜åŠ¿"><a href="#2-Composition-API-çš„ä¼˜åŠ¿" class="headerlink" title="2.Composition API çš„ä¼˜åŠ¿"></a><a href="#_2composition-api-%E7%9A%84%E4%BC%98%E5%8A%BF">2.Composition API çš„ä¼˜åŠ¿</a></h2><p>æˆ‘ä»¬å¯ä»¥æ›´åŠ ä¼˜é›…çš„ç»„ç»‡æˆ‘ä»¬çš„ä»£ç ï¼Œå‡½æ•°ã€‚è®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc0be8211fc54b6c941c036791ba4efe~tplv-k3u1fbpfcp-watermark.image" alt="img" loading="lazy"></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cc55165c0e34069a75fe36f8712eb80~tplv-k3u1fbpfcp-watermark.image" alt="img" loading="lazy"></p>
<h1 id="äº”ã€æ–°çš„ç»„ä»¶"><a href="#äº”ã€æ–°çš„ç»„ä»¶" class="headerlink" title="äº”ã€æ–°çš„ç»„ä»¶"></a><a href="#%E4%BA%94%E3%80%81%E6%96%B0%E7%9A%84%E7%BB%84%E4%BB%B6">äº”ã€æ–°çš„ç»„ä»¶</a></h1><h2 id="1-Fragment"><a href="#1-Fragment" class="headerlink" title="1.Fragment"></a><a href="#_1fragment">1.Fragment</a></h2><ul>
<li>åœ¨ Vue2 ä¸­: ç»„ä»¶å¿…é¡»æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾</li>
<li>åœ¨ Vue3 ä¸­: ç»„ä»¶å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾, å†…éƒ¨ä¼šå°†å¤šä¸ªæ ‡ç­¾åŒ…å«åœ¨ä¸€ä¸ª Fragment è™šæ‹Ÿå…ƒç´ ä¸­</li>
<li>å¥½å¤„: å‡å°‘æ ‡ç­¾å±‚çº§, å‡å°å†…å­˜å ç”¨</li>
</ul>
<h2 id="2-Teleport"><a href="#2-Teleport" class="headerlink" title="2.Teleport"></a><a href="#_2teleport">2.Teleport</a></h2><ul>
<li><p>ä»€ä¹ˆæ˜¯ Teleportï¼Ÿâ€”â€” <code>Teleport</code> æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„<strong>ç»„ä»¶ html ç»“æ„</strong>ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚</p>
<pre class="language-vue" data-language="vue"><code class="language-vue">&lt;teleport to&#x3D;&quot;ç§»åŠ¨ä½ç½®&quot;&gt;
    &lt;div v-if&#x3D;&quot;isShow&quot; class&#x3D;&quot;mask&quot;&gt;
        &lt;div class&#x3D;&quot;dialog&quot;&gt;
            &lt;h3&gt;æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—&lt;&#x2F;h3&gt;
            &lt;button @click&#x3D;&quot;isShow &#x3D; false&quot;&gt;å…³é—­å¼¹çª—&lt;&#x2F;button&gt;
        &lt;&#x2F;div&gt;
    &lt;&#x2F;div&gt;
&lt;&#x2F;teleport&gt;
Copy to clipboardErrorCopied</code></pre></li>
</ul>
<h2 id="3-Suspense"><a href="#3-Suspense" class="headerlink" title="3.Suspense"></a><a href="#_3suspense">3.Suspense</a></h2><ul>
<li><p>ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</p>
</li>
<li><p>ä½¿ç”¨æ­¥éª¤ï¼š</p>
<ul>
<li><p>å¼‚æ­¥å¼•å…¥ç»„ä»¶</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>defineAsyncComponent<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">const</span> Child <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./components/Child.vue'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>Copy to clipboardErrorCopied</code></pre>
</li>
<li><p>ä½¿ç”¨<code>Suspense</code>åŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½<code>default</code> ä¸ <code>fallback</code></p>
<pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;app&quot;&gt;
    &lt;h3&gt;æˆ‘æ˜¯Appç»„ä»¶&lt;&#x2F;h3&gt;
    &lt;Suspense&gt;
      &lt;template v-slot:default&gt;
        &lt;Child &#x2F;&gt;
      &lt;&#x2F;template&gt;
      &lt;template v-slot:fallback&gt;
        &lt;h3&gt;åŠ è½½ä¸­.....&lt;&#x2F;h3&gt;
      &lt;&#x2F;template&gt;
    &lt;&#x2F;Suspense&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;
Copy to clipboardErrorCopied</code></pre></li>
</ul>
</li>
</ul>
<h1 id="å…­ã€å…¶ä»–"><a href="#å…­ã€å…¶ä»–" class="headerlink" title="å…­ã€å…¶ä»–"></a><a href="#%E5%85%AD%E3%80%81%E5%85%B6%E4%BB%96">å…­ã€å…¶ä»–</a></h1><h2 id="1-å…¨å±€-API-çš„è½¬ç§»"><a href="#1-å…¨å±€-API-çš„è½¬ç§»" class="headerlink" title="1.å…¨å±€ API çš„è½¬ç§»"></a><a href="#_1%E5%85%A8%E5%B1%80api%E7%9A%84%E8%BD%AC%E7%A7%BB">1.å…¨å±€ API çš„è½¬ç§»</a></h2><ul>
<li><p>Vue 2.x æœ‰è®¸å¤šå…¨å±€ API å’Œé…ç½®ã€‚</p>
<ul>
<li><p>ä¾‹å¦‚ï¼šæ³¨å†Œå…¨å±€ç»„ä»¶ã€æ³¨å†Œå…¨å±€æŒ‡ä»¤ç­‰ã€‚</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//æ³¨å†Œå…¨å±€ç»„ä»¶</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'MyButton'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;button @click="count++">Clicked &#123;&#123; count &#125;&#125; times.&lt;/button>'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">//æ³¨å†Œå…¨å±€æŒ‡ä»¤</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token function-variable function">inserted</span><span class="token operator">:</span> <span class="token parameter">el</span> <span class="token operator">=></span> el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>Copy to clipboardErrorCopied</code></pre></li>
</ul>
</li>
<li><p>Vue3.0 ä¸­å¯¹è¿™äº› API åšå‡ºäº†è°ƒæ•´ï¼š</p>
<ul>
<li><p>å°†å…¨å±€çš„ APIï¼Œå³ï¼š<code>Vue.xxx</code>è°ƒæ•´åˆ°åº”ç”¨å®ä¾‹ï¼ˆ<code>app</code>ï¼‰ä¸Š</p>
<table>
<thead>
<tr>
<th>2.x å…¨å±€ APIï¼ˆ<code>Vue</code>ï¼‰</th>
<th>3.x å®ä¾‹ API (<code>app</code>)</th>
</tr>
</thead>
<tbody><tr>
<td>Vue.config.xxxx</td>
<td>app.config.xxxx</td>
</tr>
<tr>
<td>Vue.config.productionTip</td>
<td><strong>ç§»é™¤</strong></td>
</tr>
<tr>
<td>Vue.component</td>
<td>app.component</td>
</tr>
<tr>
<td>Vue.directive</td>
<td>app.directive</td>
</tr>
<tr>
<td>Vue.mixin</td>
<td>app.mixin</td>
</tr>
<tr>
<td>Vue.use</td>
<td>app.use</td>
</tr>
<tr>
<td>Vue.prototype</td>
<td>app.config.globalProperties</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
<h2 id="2-å…¶ä»–æ”¹å˜"><a href="#2-å…¶ä»–æ”¹å˜" class="headerlink" title="2.å…¶ä»–æ”¹å˜"></a><a href="#_2%E5%85%B6%E4%BB%96%E6%94%B9%E5%8F%98">2.å…¶ä»–æ”¹å˜</a></h2><ul>
<li><p>data é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°ã€‚</p>
</li>
<li><p>è¿‡åº¦ç±»åçš„æ›´æ”¹ï¼š</p>
<ul>
<li><p>Vue2.x å†™æ³•</p>
<pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.v-enter,
.v-leave-to</span> <span class="token punctuation">&#123;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.v-leave,
.v-enter-to</span> <span class="token punctuation">&#123;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>Copy to clipboardErrorCopied</code></pre>
</li>
<li><p>Vue3.x å†™æ³•</p>
<pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.v-enter-from,
.v-leave-to</span> <span class="token punctuation">&#123;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.v-leave-from,
.v-enter-to</span> <span class="token punctuation">&#123;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>Copy to clipboardErrorCopied</code></pre></li>
</ul>
</li>
<li><p><strong>ç§»é™¤</strong>keyCode ä½œä¸º v-on çš„ä¿®é¥°ç¬¦ï¼ŒåŒæ—¶ä¹Ÿä¸å†æ”¯æŒ<code>config.keyCodes</code></p>
</li>
<li><p><strong>ç§»é™¤</strong><code>v-on.native</code>ä¿®é¥°ç¬¦</p>
<ul>
<li><p>çˆ¶ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶</p>
<pre class="language-vue" data-language="vue"><code class="language-vue">&lt;my-component
  v-on:close&#x3D;&quot;handleComponentEvent&quot;
  v-on:click&#x3D;&quot;handleNativeClickEvent&quot;
&#x2F;&gt;
Copy to clipboardErrorCopied</code></pre>
</li>
<li><p>å­ç»„ä»¶ä¸­å£°æ˜è‡ªå®šä¹‰äº‹ä»¶</p>
<pre class="language-vue" data-language="vue"><code class="language-vue">&lt;script&gt;
export default &#123;
  emits: [&#39;close&#39;],
&#125;
&lt;&#x2F;script&gt;
Copy to clipboardErrorCopied</code></pre></li>
</ul>
</li>
<li><p><strong>ç§»é™¤</strong>è¿‡æ»¤å™¨ï¼ˆfilterï¼‰</p>
<blockquote>
<p>è¿‡æ»¤å™¨è™½ç„¶è¿™çœ‹èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†å®ƒéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰è¯­æ³•ï¼Œæ‰“ç ´å¤§æ‹¬å·å†…è¡¨è¾¾å¼æ˜¯ â€œåªæ˜¯ JavaScriptâ€ çš„å‡è®¾ï¼Œè¿™ä¸ä»…æœ‰å­¦ä¹ æˆæœ¬ï¼Œè€Œä¸”æœ‰å®ç°æˆæœ¬ï¼å»ºè®®ç”¨æ–¹æ³•è°ƒç”¨æˆ–è®¡ç®—å±æ€§å»æ›¿æ¢è¿‡æ»¤å™¨ã€‚</p>
</blockquote>
</li>
<li><p>â€¦â€¦</p>
</li>
</ul>
</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><span class="icon iconify" data-icon="ri:hand-coin-line"></span></span><div id="reward-comment">I'm so cute. Please give me money.</div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>å˜Ÿå˜Ÿå™œ</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://sakura10032.github.io/2022/06/02/vue3-x/" title="vue3.x ç¬”è®°åˆ†äº«">https://sakura10032.github.io/2022/06/02/vue3-x/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> unless otherwise stated.</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/06/02/vue2-x/" rel="prev" title="vue2.x ç¬”è®°åˆ†äº«"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">vue2.x ç¬”è®°åˆ†äº«</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/06/02/hello-world/" rel="next" title="Hello World"><span class="post-nav-text">Hello World</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>å¦‚æœæ‚¨æœ‰ä»»ä½•å…³äºåšå®¢å†…å®¹çš„ç›¸å…³è®¨è®ºï¼Œæ¬¢è¿å‰å¾€ <a href="https://github.com/Sakura10032/sakura10032.github.io/discussions" target="_blank">GitHub Discussions</a> ä¸æˆ‘äº¤æµã€‚</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">è‹ICPå¤‡19056589</a></div><div class="copyright"><span>&copy; 2018 â€“ 2022 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> å˜Ÿå˜Ÿå™œ</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v6.2.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.3</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></body></html>